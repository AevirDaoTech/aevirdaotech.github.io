"use strict";(globalThis.webpackChunkaevirdaotech_github_io=globalThis.webpackChunkaevirdaotech_github_io||[]).push([[1637],{1855(e,n,i){i.d(n,{A:()=>s});const s=i.p+"assets/images/consensus-architecture-debf2f6e16f477a4c2aac88779eb4b68.png"},2940(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"architecture/dual-consensus","title":"Dual-Layer Consensus: Execution & Block Production","description":"Aevir Consensus Architecture","source":"@site/docs/architecture/dual-consensus.md","sourceDirName":"architecture","slug":"/architecture/dual-consensus","permalink":"/docs/architecture/dual-consensus","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Architecture Overview","permalink":"/docs/architecture/overview"},"next":{"title":"FL Space: Federated Learning Space","permalink":"/docs/architecture/fl-space"}}');var t=i(4848),r=i(8453);const o={sidebar_position:2},c="Dual-Layer Consensus: Execution & Block Production",a={},l=[{value:"Execution Layer: High-Performance Transaction and Compute Engine",id:"execution-layer-high-performance-transaction-and-compute-engine",level:2},{value:"Execution Committee",id:"execution-committee",level:3},{value:"Simplified Transaction Flow",id:"simplified-transaction-flow",level:3},{value:"Block Production Layer: Decentralized Security Guardian",id:"block-production-layer-decentralized-security-guardian",level:2},{value:"Witness BFT and Committer",id:"witness-bft-and-committer",level:3}];function d(e){const n={h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"dual-layer-consensus-execution--block-production",children:"Dual-Layer Consensus: Execution & Block Production"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Aevir Consensus Architecture",src:i(1855).A+"",width:"2544",height:"1428"})}),"\n",(0,t.jsx)(n.h2,{id:"execution-layer-high-performance-transaction-and-compute-engine",children:"Execution Layer: High-Performance Transaction and Compute Engine"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Execution Layer"}),' is Aevir\'s "high-speed engine", handling all logic that requires fast response:']}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Receiving and ordering user transactions"}),"\n",(0,t.jsx)(n.li,{children:"Executing smart contracts (including DeFi protocols, AI task scheduling, reward settlement, etc.)"}),"\n",(0,t.jsx)(n.li,{children:"Calculating contribution scores (IntelliPoints) for all nodes"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"execution-committee",children:"Execution Committee"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Composed of ",(0,t.jsx)(n.strong,{children:"21 high-performance execution nodes"})]}),"\n",(0,t.jsx)(n.li,{children:"Nodes enter the committee by staking $AEV and ranking by stake amount"}),"\n",(0,t.jsxs)(n.li,{children:["Consensus: ",(0,t.jsx)(n.strong,{children:"PoS + BFT"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Similar to classic BFT: one leader proposes a block, others vote"}),"\n",(0,t.jsxs)(n.li,{children:["When more than 2/3 of nodes sign, an ",(0,t.jsx)(n.strong,{children:"Execution QC"})," is formed"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"simplified-transaction-flow",children:"Simplified Transaction Flow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Users submit transactions or AI task requests via wallet / DApp;"}),"\n",(0,t.jsx)(n.li,{children:"The Execution Layer leader collects transactions and builds a block proposal;"}),"\n",(0,t.jsxs)(n.li,{children:["21 execution nodes vote using BFT:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If \u2265 2/3 sign, the block is confirmed at the execution layer;"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:'Users receive a "pre-confirmation" response within hundreds of milliseconds to a few seconds.'}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Why this design?"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Having a small set of economically bonded, high-performance nodes for execution consensus greatly reduces communication overhead;"}),"\n",(0,t.jsx)(n.li,{children:"It enables almost Web2-level latency, providing good real-time UX for AI applications, especially inference."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"block-production-layer-decentralized-security-guardian",children:"Block Production Layer: Decentralized Security Guardian"}),"\n",(0,t.jsxs)(n.p,{children:['If the Execution Layer is about "running fast", the ',(0,t.jsx)(n.strong,{children:"Block Production Layer"}),' is about "standing firm".']}),"\n",(0,t.jsx)(n.p,{children:"Its responsibilities:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Perform a second verification of data coming from the Execution Layer;"}),"\n",(0,t.jsx)(n.li,{children:"Reach consensus within a larger, more decentralized node set;"}),"\n",(0,t.jsx)(n.li,{children:'Produce final blocks and "seal" them on-chain.'}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"witness-bft-and-committer",children:"Witness BFT and Committer"}),"\n",(0,t.jsx)(n.p,{children:"For each time slot:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"The Witness Layer receives a candidate block from the Execution Layer (with its Execution QC attached);"}),"\n",(0,t.jsx)(n.li,{children:"All 51 witnesses independently verify the candidate (data integrity, consistency, etc.);"}),"\n",(0,t.jsxs)(n.li,{children:["When ",(0,t.jsx)(n.strong,{children:"\u2265 34 witnesses (over 2/3)"})," sign, a ",(0,t.jsx)(n.strong,{children:"Witness QC"})," is formed;"]}),"\n",(0,t.jsxs)(n.li,{children:["The current ",(0,t.jsx)(n.strong,{children:"Committer"})," then packages this into a final block and broadcasts it to the network."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>c});var s=i(6540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);